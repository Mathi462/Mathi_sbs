<!-- <div> -->
<mat-card style="background-color:#2a63a763;padding: 4px;">

  <mat-card-title style="text-align: center;">TALLENT CELLCOM INVOICE BILLLNG
  </mat-card-title>

  <form [formGroup]="form">

    <div class="container">
      <div class="row">
        <div class="col-sm-3">
          <mat-form-field>
            <input matInput formControlName="customerphno" placeholder="Enter Phone Num">

          </mat-form-field>
        </div>



        <div class="col-sm-3">
          <mat-form-field>
            <input matInput placeholder="Invoice No:">

          </mat-form-field>


        </div>

        <div class="col-sm-3">
          <mat-form-field>
            <input matInput [matDatepicker]="picker" formControlName="orderdate" placeholder="Choose a date" [value]="date.value">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>



          </mat-form-field>
        </div>
        <div class="col-sm-3">
          <mat-form-field>
            <mat-select placeholder="Select Type">
              <mat-option value="Invoice Bill">Invoice Bill</mat-option>
              <mat-option value="Estimate Bill">Estimate Bill</mat-option>

            </mat-select>
          </mat-form-field>
        </div>
        <!-- <div class="col-sm-3">
          <mat-form-field>
            <input matInput formControlName="add_barcode" placeholder="Enter barcode">

          </mat-form-field>
        </div> -->
        <!-- <div class="col-sm-4">
          <mat-form-field>
              <input matInput [matDatepicker]="dp" placeholder="Date" [formControl]="date">
              <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
              <mat-datepicker #dp></mat-datepicker>
            </mat-form-field>
            </div> -->





        <!-- <form [formGroup]="cust"> -->


        <div class="col-sm-3 ">
          <mat-form-field>
            <input matInput placeholder="CustomerName" value="{{this.para.custmername}}" />
          </mat-form-field>
        </div>
        <div class="col-sm-3">
          <mat-form-field>
            <input matInput placeholder="CustomerPhone" value="{{this.para.custmerphone}}" />
          </mat-form-field>
        </div>
        <div class="col-sm-3">
          <mat-form-field>
            <input matInput placeholder="CustomerAddress" value="{{this.para.custmeraddress}}" />
          </mat-form-field>
        </div>

        <!-- <div class="col-sm-3">
    
              <button mat-button style="background-color:#ec370a;padding: 4px;  font-family: fantasy" (click)="customerRegister()">Save
                Customer</button>
    
             </button> 
            </div> -->
      </div>
    </div>
    <!-- </form> -->
  </form>
  <div style="margin-bottom: 0px; ">
    <!-- <mat-card-title style="text-align: start;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif">BILLING
          INVOICE
        </mat-card-title> -->

    <form class="card-content " [formGroup]="params" (ngSubmit)="saveBill()">
      <div class="table-responsive">
        <table style="width: 50px;" class="table table-striped table-bordered" style="background-color:#4c739a;">
          <thead style="background-color:#d8272700;">
            <tr>
              <th style="width:120px; height: 35px;">Barcode </th>
              <th style="width:300px; height: 35px;">Product</th>
              <th style="width:120px;height: 35px;">Rate</th>
              <th style="width:50px; height: 35px;">Qty</th>
              <th style="width:50px; height: 35px;">Discount</th>
              <!-- <th style="width:120px; height: 35px;">disrupe(RS)</th> -->
              <th style="width:50px; height: 35px;">GST(%)</th>
              <!-- <th style="width:120px; height: 35px;">GST(RS)</th> -->

              <th style="width:150px; height: 35px;">Amount</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody formArrayName="prod" *ngFor="let unit of params.controls.prod.controls; let i=index">

            <tr [formGroupName]="i">
              <td>
                <input class="form-control" style="width:120px; height: 35px;" type="text" formControlName="barcode" />
              </td>
              <td>
                <input class="form-control" style="width:300px;height: 35px;" type="text" formControlName="product" />
              </td>
              <td>
                <input class="form-control" style="width:120px;height: 35px;" type="text" formControlName="rate" />
              </td>

              <td>
                <input class="form-control" style="width:50px; height: 35px;" type="text" formControlName="qty" />
              </td>
              <td>
                <input class="form-control" style="width:50px; height: 35px;" type="text" formControlName="dis" />
              </td>
              <!-- <td style="display:none">
              <input class="form-control" style="width:50px; height: 35px;" type="text" formControlName="disrupe" />
            </td> -->
              <td>
                <input class="form-control" style="width:50px; height: 35px;" type="text" formControlName="gst" />
              </td>


              <!-- <td style="display:none">
              <input class="form-control" style="width:120px; height: 35px;" type="text" formControlName="gstrpe" value="{{unit.gst}}" />
            </td> -->
              <td>
                <input class="form-control" style="width:150px; height: 35px;" type="text" formControlName="amount" />
              </td>
              <td>
                <div class="container">
                  <div class="row">
                    <div class="col-sm-2">

                      <mat-icon (click)="addProd()">playlist_add</mat-icon>

                    </div>
                    <div class="col-sm-2">

                      <mat-icon *ngIf="params.controls.prod.controls.length > 1" (click)="deleteFieldValue(i)">delete_forever</mat-icon>
                    </div>


                  </div>

                </div>

              </td>

            </tr>

          </tbody>

        </table>
      </div>

    </form>
  </div>
</mat-card>








<!-- Total price calculation formated with angular currency pipe -->
<mat-card style="background-color:#9bb2ce">
  <div class="container">
    <form [formGroup]="saveBilling" (ngSubmit)="saveBill()">
      <!-- <mat-card-title style="text-align: center;">Amount Details</mat-card-title> -->

      <div class="row ">
        <!-- <div class="col-sm-4">
            <mat-form-field appearance="outline">
              <mat-label>Sub Amount</mat-label>
              <input matInput placeholder="Sub Amount" disabled value=" {{this.bill.total | currency:''}}">
              <span matpreffix><img style="width:15px" src="assets/img/curr.svg"></span>
               <mat-icon matSuffix></mat-icon> 
    
            </mat-form-field>
            
          </div> -->


        <div class="col-sm-4">
          <mat-form-field appearance="outline">
            <mat-select placeholder="Branch Name" fonode app.jrmControlName="branch">
              <option selected>NAME</option>
              <mat-option value="{{cat.bname}}" *ngFor="let cat of this.bname">
                {{cat.bname}}
              </mat-option>

            </mat-select>
          </mat-form-field>
        </div>






        <div class="col-sm-4">
          <mat-form-field>
            <input style="color:black" matInput placeholder="Sub Amount" disabled value=" {{this.bill.total | currency:'RS'}}" />
            <!-- <span matpreffix><img style="width:15px" src="assets/img/curr.svg"></span> -->
          </mat-form-field>
        </div>
        <!-- <div class="col-sm-4">
            <mat-form-field appearance="outline ">
              <mat-label>CGST</mat-label>
              <span matpreffix><img style="width:15px" src="assets/img/curr.svg"></span> 
              <input matInput placeholder="GST" value=" {{this.bill.cgst | currency:' '}}">
              
              <mat-icon matSuffix></mat-icon>
            </mat-form-field>
          </div> -->
        <div class="col-sm-4">
          <mat-form-field>
            <input style="color:black" matInput placeholder="CGST" disabled value=" {{this.bill.cgst | currency:'RS'}}" />
            <!-- <span matpreffix><img style="width:15px" src="assets/img/curr.svg"></span> -->
          </mat-form-field>
        </div>
        <div class="col-sm-4">
          <mat-form-field>
            <input style="color:black" matInput placeholder="SGST" disabled value=" {{this.bill.sgst | currency:'RS'}}" />
            <!-- <span matpreffix><img style="width:15px" src="assets/img/curr.svg"></span> -->
          </mat-form-field>
        </div>
        <!-- <div class="col-sm-4">
            <mat-form-field appearance="outline ">
              <mat-label>SGST</mat-label>
              <input matInput placeholder="GST" value=" {{this.bill.sgst | currency:' '}}">
               <span matpreffix><img style="width:15px" src="assets/img/curr.svg"></span> 
              <mat-icon matSuffix></mat-icon>
    
            </mat-form-field>
          </div> -->
        <div class="col-sm-4">
          <mat-form-field>
            <input style="color:black" matInput placeholder="Total Amount" disabled value=" {{this.bill.totalAmt | currency:'RS'}}" />
            <!-- <span matpreffix><img style="width:15px" src="assets/img/curr.svg"></span> -->
          </mat-form-field>
        </div>


        <!-- <div class="col-sm-4">
            <mat-form-field appearance="outline">
              <mat-label>Total Amount</mat-label>
              <input matInput placeholder="Total Amount" value="{{this.bill.totalAmt | currency:' '}}">
               <span matpreffix><img style="width:15px" src="assets/img/curr.svg"></span> 
              <mat-icon matSuffix></mat-icon>
    
            </mat-form-field>
          </div> -->




        <!-- <div class="col-sm-4">
    
            <mat-form-field appearance="outline">
              <mat-label>Discount</mat-label>
              <input matInput placeholder="Discount" formControlName="disCount">
              <mat-icon matSuffix></mat-icon>
    
            </mat-form-field>
    
          </div> -->

        <!-- <div class="col-sm-4">
            <mat-form-field>
              <input style="color:black" matInput placeholder="Grand Total" disabled value=" {{this.grand | currency:'RS'}}" />
              <span matpreffix><img style="width:15px" src="assets/img/curr.svg"></span> 
            </mat-form-field>
          </div> -->
        <!-- <div class="col-sm-4"> 
    
             <mat-form-field appearance="outline">
              <mat-label>Grand Total</mat-label>
              <input matInput placeholder="Grand Total" value="{{this.grand | currency:'RS '}}">
                <span matpreffix><img style="width:10px" src="assets/img/curr.svg"></span>  
                         <mat-icon matSuffix></mat-icon>
    
            </mat-form-field>
          </div> -->
        <!-- 
          <div class="col-sm-4">
            <mat-form-field>
              <input style="color:black" matInput placeholder="Paid Amount" >
              <span matpreffix><img style="width:15px" src="assets/img/curr.svg"></span>
            </mat-form-field>
          </div> -->
        <!-- <div class="col-sm-4">-->


        <div class="col-sm-4">

          <mat-form-field>
            <!-- <mat-label>Paid Amount</mat-label> -->
            <input matInput placeholder="Paid Amount" formControlName="paidAmount">
            <!-- <span matpreffix><img style="width:10px" src="assets/img/curr.svg"></span>  -->
            <!-- <mat-icon matSuffix></mat-icon> -->

          </mat-form-field>
        </div>
        <!-- </div> -->


        <!-- <div class="col-sm-4">
            <mat-form-field>
              <input style="color:black" matInput placeholder="Balance"  value=" {{this.balance | currency:'RS'}}" >
               <span matpreffix><img style="width:15px" src="assets/img/curr.svg"></span> 
            </mat-form-field>
          </div> -->

        <div class="col-sm-4">
          <mat-form-field>
            <!-- <mat-label>Balance</mat-label> -->
            <input style="color:black" matInput placeholder="Balance" disabled value="{{this.balance | currency:'RS '}}">
            <!-- <span matpreffix><img style="width:10px" src="assets/img/curr.svg"></span>  -->
            <!-- <mat-icon matSuffix></mat-icon> -->
          </mat-form-field>
        </div>

        <div class="col-sm-4">
          <mat-form-field>
            <input style="color:black" matInput placeholder="Total Discount" disabled value="{{this.totaldis}}">
            <!-- <span matpreffix><img style="width:15px" src="assets/img/curr.svg"></span> -->
          </mat-form-field>
        </div>

        <div class="col-sm-4">
          <mat-form-field appearance="outline">
            <mat-select placeholder="Payment Status" formControlName="paymentStatus">
              <mat-option value="full_payment">Full Payment</mat-option>
              <mat-option value="due_payment">Due Payment</mat-option>
              <mat-option value="no_payment">NO Payment</mat-option>
            </mat-select>
          </mat-form-field>

        </div>

        <div class="col-sm-4">
          <mat-form-field appearance="outline">
            <mat-select placeholder="Payment Type" formControlName="paymenttype">
              <mat-option value="Card">Card</mat-option>
              <mat-option value="OnCash">OnCash</mat-option>
              <mat-option value="Due">Due</mat-option>
            </mat-select>
          </mat-form-field>

        </div>
        <div class="col-sm-4">
          <mat-form-field>
            <textarea matInput placeholder="Message displayed on invoice" formControlName="message"></textarea>
          </mat-form-field>
        </div>
        <div class="col-sm-4">
          <mat-form-field appearance="outline">
            <mat-select placeholder="Sales Person Name" fonode app.jrmControlName="salesperson">
              <option selected>NAME</option>
              <mat-option value="{{cat.firstname}}" *ngFor="let cat of this.firstname">
                {{cat.firstname}}
              </mat-option>

            </mat-select>
          </mat-form-field>
        </div>
        <!-- <div class="col-sm-4">
    
            <select class="form-control" formControlName="branchname"  placeholder="firstname">
              <option selected>Sales Person Name</option>
              <option value="{{cat.firstname}}" *ngFor="let cat of this.firstname">
                {{cat.firstname}}
              </option>
    
            </select>
          </div> -->





      </div>
      <br>
      <div>
        <mat-chip-list>
          <mat-chip color="primary" style="float: right;;width: 70px" (click)="print()" selected> Print</mat-chip>
          <mat-chip color="accent" style="float:right;width: 70px" (click)="saveBill()" selected> Save</mat-chip>

        </mat-chip-list>


        <!-- <button mat-raised-button color="primary" style="float:right;" (click)="print()">Print</button> -->

        <!-- <button mat-raised-button color="accent" style="float:right;">Save</button>&nbsp;&nbsp;&nbsp;&nbsp; -->
      </div>


    </form>

  </div>
</mat-card>



<div id="print-section" hidden='true'>

  <table style="width: 100%; border-collapse: collapse; margin: 20px 20px 20px 20px">
    <tr>
      <td style="text-align: center;"> </td>
      <td width="551px;">
        <h2>TALLENT CELLCOM</h2>
        <p>5/34,B.S.Sundaram Street,<br>New Bus Stand (OPP),<br>Avinashi - 641654 <br>Phone : 7448717777<br>PAN :
          AAFFT6574P<br>GST : 33AAFFT6574P1ZH</p>
      </td>
      <td width="300px;" style="text-align:right; padding-top: 120px; padding-right:30px; ">Invoice No: INV001<br>Date:
        13-Nov-2018</td>
    </tr>
    <tr>
      <td colspan="3" style="text-align: center; padding-top: 30px;">INVOICE</td>
    </tr>
    <tr>
      <td colspan="3">
        <hr>
      </td>
    </tr>
    <tr>
      <td colspan="3" style="padding-left: 50px;">Billing Address :<br>Name : {{result.customerfname}} <br> Phone
        :{{result.customerphno}} <br> Address : {{result.customeraddres}} </td>
    </tr>

    <tr>
      <td colspan="3">
        <table border="1" style="border-collapse: collapse; margin-top: 30px;" width="94%" align="center">
          <tr>
            <th width="40%">Product</th>
            <th width="5%">Qty</th>
            <th width="10%">Price</th>
            <th width="10%">CGST</th>
            <th width="10%">SGST</th>
            <th width="15%">Amount</th>
          </tr>
          <tr *ngFor="let unit of printSection ">
            <td>{{unit.product}}</td>
            <td align="center">{{unit.qty}} </td>
            <td align="center">{{unit.rate}}</td>
            <td align="center">{{unit.calgst}}</td>
            <td align="center">{{unit.calgst}}</td>
            <td align="center">{{unit.amount}}</td>

          </tr>


        </table>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <p style="padding-left: 50px; margin-top: 50px;">In Words :{{this.amtInWords}} <br><br><br>For<br><br><br><br><br><br>Authorised
          Signatory</p>
      </td>
      <td>
        <p style="text-align: right; margin-right: 30px; margin-top: 157px;">Discount :{{this.totaldis | currency:'RS
          '}}<br>GST
          :{{this.totalgst | currency:'RS '}}<br>Total Amount:{{this.totalgst+this.totalSum-this.totaldis |
          currency:'RS '}}<br>Paid Amount:{{this.paidAmount | currency:'RS '}}<br>Balance:{{this.balance}}
        </p>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <hr>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <p style="text-align: center;">If you have any questions concerning this invoice, contact -
          tallentgroups@gmail.com</p>
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <p style="text-align: center; font-weight: bold;">THANK YOU ..!! VISIT AGAIN</p>
      </td>
    </tr>

  </table>


</div>
<!-- <button (click)="print()">print</button> -->
<!-- <button mat-raised-button color="primary" (click)="print()">print</button> -->